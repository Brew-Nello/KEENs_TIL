# ARC & GC

## ARC 란?
- `ARC = Automatic Refernce Counting` 이라는 메모리 관리 기법을 말한다.
- Swift는 `ARC`를 사용하여 메모리를 관리한다.
- `ARC`는 런타임이 아닌, 컴파일 시점에 컴파일러가 개발자를 대신하여 메모리 관리 코드를 적절한 위치에 자동으로 삽입한다.

> Swift 코드에서 개발자가 release 코드를 작접 작성하지 않아도 실제 바이너리 코드에는 메모리 해제 코드가 들어가도록 하는 것이다.

## GC란?
- `GC = Garbage Collection` 이라는 메모리 관리 기법을 말한다.
- `GC`방식은 메모리 관리를 `Garbage Collector`라는 것이 프로그램 실행 중에 동적으로 감시하고 있다가, 더 이상 사용할 필요가 없다고 여겨지는 것, 즉 `garbage`를 메모리에서 삭제하는 것이다.
```
garbage는 어떤 변수도 가리키지 않게 된 메모리 영역을 의미한다.
```
- `GC`는 런타임에 메모리를 관리한다.

## 공통의 목적
- 개발자의 일거리를 덜어주는 목적
- `GC`, `ARC`를 통해 더 이상 참조 카운트를 추적하지 않아도 된다.
- 객체를 수동으로 메모리에서 해제하는 것에 대해 걱정할 필요가 없어진 것.

## 비교
|비교|ARC|GC|
|---|---|---|
|시점|컴파일 타임|런타임|
|원리|컴파일 시점에 언제 참조/해제 되는지 결정|주기적으로 참조를 추적하여 사용하지 않는 인스턴스를 해제|
|오버헤드|런타임 시점에 추가적인 오버헤드가 발생하지 않는다|런타임 시점에 객체를 추적하는 과정에서 오버헤드가 발생하여 성능저하가 생길 수 있다|
|단점|순환 참조가 발생 시 메모리 누수의 위험이 있다||
|기타|-|별도로 동적 객체를 관리할 필요가 없다|
|기타|-|인스턴스가 해제될 확률이 ARC에 비해 높다|


## 장단점
||ARC|
|---|---|
|장점| - 컴파일러가 메모리 반환 코드를 넣어주는 것이기에 오버헤드에서 자유롭다. </br>  - 메모리와 CPU가 데스크탑에 비해 제한적인 모바일 기기에서는 더 중요한 문제이고 그만큼 성능 측면에서 좋다.|
|단점| - 다만 개발자의 실수에 의해 순환 참조가 발생될 수 있기에 이를 예방하는 작업이 필요하다. |

||GC|
|---|---|
|장점||
|단점| - 항상 메모리를 차지하고 감시해야하기 때문에 메모리 사용량이 늘어날 수 밖에 없고, 지속적인 감시를 위해 CPU를 항상 사용한다.|

