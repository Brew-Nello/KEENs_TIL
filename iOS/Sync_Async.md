# 동기 / 비동기 / 직렬 / 동시

: 여러 작업을 분산처리하기 위해서 사용한다.

## 동기/비동기의 개념
main thread가 다른 스레드에서 작업을 하도록 시킨 후 ..
- 동기(Sync)
    - 해당 작업이 끝날 때까지 기다린다.
    - main은 block된 상태이므로 작업이 끝날때까지 다른 작업을 할 수 없다.
- 비동기(Async)
    - 작업이 끝날때까지 안기다리고 다음 작업을 진행한다.

> 비동기가 필요한 이유는 뭘까?
- 네트워크 통신 작업 때문
    - 네트워크 통신 시, 통신의 결과물이 언제 도착할지 알 수 없다. 
    - 그 과정을 다 기다렸다가 다음작업을 처리하려고 하면 비효율적이고, 만약 엄청나게 큰 용량의 이미지를 다운 받는다고 하면 다운받는 동안 사용자의 입장에서는 멈췄다고 느껴질 수 있다.

## 직렬/동시의 개념
보통 main에서 분산처리 시킨 작업을 ..
- 직렬(Serial)
    - 다른 하나의 스레드로 작업을 넘기는 것
- 동시(Concurrent)
    - 한 개의 스레드가 아닌 여러 개의 스레드로 작업을 분산해서 넘기는 것
    - 몇 개의 스레드로 분산할 지는 시스템이 알아서 결정한다.

> 분산 처리 시, 동시 처리가 좋은데 왜 직렬이 필요할까?
- 작업에 순서가 필요할 수도 있다.
- 분산 처리하는 것이 무조건 효율적이어 보일 수도 있지만, 특정 작업이 끝난 후 그 작업의 결과물을 활용한 다음 작업을 실행해야할 수도 있기 때문이다.

## 언제 무엇을 사용할까?
- 순서가 중욯나 작업 처리 -> 직렬 처리
    - ex. 이미지를 다운 받고, 해당 이미지를 활용하는 경우
- 각각 독립적이지만 유사한 여러 개의 작업을 처리 -> 동시 처리
    - ex. 당근 마켓에서 반복적인 cell들의 물품 이미지를 다운 받을 때

## `비동기`와 `동시`는 같은말인가?
-> " NO! "
- 비동기는
    - main thread에서 다른 스레드로 보낸 작업을 기다릴지 말지에 대한 개념
- 동시는
    - main에서 분산 처리 시킨 작업을
    - 하나의 스레드에서 처리할지, 여러 스레드에서 처리할지에 대한 개념


## iOS에서 동시성 프로그래밍이 필요한 이유
- 인스타그램 처럼 다수의 이미지를 collectionView를 통해 보여주는 앱을 만든다고 해보자.
- main thread 에서 모든 네트워크 작업을 처리하면 스크롤 시 끊기는 모습을 볼 수 있다.
```
이럴 때 GCD, Operation, Async/Await 등을 사용해서 비동기 처리를 해주면 부드럽게 스크롤을 하면서 백그라운드에서 이미지를 다운로드 해올 수 있다.
```
