# Dynamic Dispatch

## Static Dispatch (Direct Call)
- 컴파일 타임에 호출될 함수를 결정하여, 런타임에 그대로 실행
        
→ 컴파일 타임에 결정나기때문에 성능상 이점을 가질 수 있다.
        
## Dynamic Dispatch (Indirect Call)
- 런타임에 호출될 함수를 결정한다.
- 클래스마다 함수 포인터들의 배열인 vTable(Virtual DIspatch Table)을 유지한다.
- 하위 클래스가 메서드를 호출할 때, vTable을 참조하여 실제 호출할 함수를 결정한다.
        
→ 이 과정이 런타임에 일어나기 때문에 성능상 손해를 보게 된다.
        
```
📌 vTable
: 메서드 오버라이딩에 따라 실행 시점에 어떤 메서드를 실행할지 결정하는 동적 디스패치를 지원하기 위해 프로그래밍 언어에서 사용하는 메커니즘.
```     

### ReferenceType에서의 Dispatch
- class에는 상속 가능성이 있어서, 서브 클래스에서 함수를 호출할 수 있기 때문에 Dynamic Dispatch를 사용하게 된다.
- 컴파일러는 하위 클래스에서 오버라이딩이 될 경우를 대비하여, 상위 클래스의 메서드를 참조해야할지, 하위 클래스의 메서드를 참조해야할지 확인하는 작업을 런타임에 해야한다.
    - 각 클래스마다 가지고 있는 vTable 안에 함수 포인터로 두고, 실제 런타임 시점이 vTable을 사용해서 어떤 메서드가 불리는지 결정해버리는 것.
    - 메서드가 오버라이딩 되지 않을 수도 있지만, 클래스이기에 그럴 가능성이 있어서, 무조건 vTable을 확인해서 참조한다.